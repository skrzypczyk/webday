var re=Object.defineProperty,oe=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var _=(t,e,n)=>e in t?re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||(e={}))ie.call(e,n)&&_(t,n,e[n]);if(O)for(var n of O(e))ae.call(e,n)&&_(t,n,e[n]);return t},K=(t,e)=>oe(t,se(e));class P{constructor(e){this.properties=e!=null?e:[]}get(e){const n=this.properties.filter(r=>r.name===e).map(r=>r.value);if(n.length>1)throw new Error('Expected only one property to be named "'+e+'"');if(n.length!==0)return n[0]}getString(e){return this.getByType(e,"string")}getNumber(e){return this.getByType(e,"number")}getBoolean(e){return this.getByType(e,"boolean")}getByType(e,n){const r=this.get(e);if(r!==void 0){if(typeof r!==n)throw new Error('Expected property "'+e+'" to have type "'+n+'"');return r}}mustGetString(e){return this.mustGetByType(e,"string")}mustGetNumber(e){return this.mustGetByType(e,"number")}mustGetBoolean(e){return this.mustGetByType(e,"boolean")}mustGetByType(e,n){const r=this.get(e);if(r===void 0)throw new Error('Property "'+e+'" is missing');if(typeof r!==n)throw new Error('Expected property "'+e+'" to have type "'+n+'"');return r}getType(e){const n=this.properties.filter(r=>r.name===e).map(r=>r.type);if(n.length>1)throw new Error('Expected only one property to be named "'+e+'"');if(n.length!==0)return n[0]}}const k="https://unpkg.com/@workadventure/scripting-api-extra@1.3.2/dist";class ue{constructor(e){this.name=e.name,this.x=e.x,this.y=e.y,this.properties=new P(e.properties)}get isReadable(){const e=this.properties.getString("readableBy");return e?WA.player.tags.includes(e):!0}get isWritable(){const e=this.properties.getString("writableBy");return e?WA.player.tags.includes(e):!0}}function Q(t){const e=t?"#"+t.join():"";WA.nav.openCoWebSite(k+"/configuration.html"+e)}async function le(t,e){const n=await WA.room.getTiledMap(),r=new Map;return Y(n.layers,r,t,e),r}function Y(t,e,n,r){for(const o of t)if(o.type==="objectgroup"){for(const s of o.objects)if(s.type==="variable"){if(!!n&&o.name!==n||!!r&&!r.includes(s.name))continue;e.set(s.name,new ue(s))}}else o.type==="group"&&Y(o.layers,e,n,r)}let V;async function R(){return V===void 0&&(V=ce()),V}async function ce(){return pe(await WA.room.getTiledMap())}function pe(t){const e=new Map;return J(t.layers,"",e),e}function J(t,e,n){for(const r of t)r.type==="group"?J(r.layers,e+r.name+"/",n):(r.name=e+r.name,n.set(r.name,r))}function fe(t){let e=1/0,n=1/0,r=0,o=0;const s=t.data;if(typeof s=="string")throw new Error("Unsupported tile layer data stored as string instead of CSV");for(let i=0;i<t.height;i++)for(let u=0;u<t.width;u++)s[u+i*t.width]!==0&&(e=Math.min(e,u),o=Math.max(o,u),n=Math.min(n,i),r=Math.max(r,i));return{top:n,left:e,right:o+1,bottom:r+1}}function z(t){let e=1/0,n=1/0,r=0,o=0;for(const s of t){const i=fe(s);i.left<e&&(e=i.left),i.top<n&&(n=i.top),i.right>o&&(o=i.right),i.bottom>r&&(r=i.bottom)}return{top:n,left:e,right:o,bottom:r}}/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var de=Object.prototype.toString,L=Array.isArray||function(e){return de.call(e)==="[object Array]"};function I(t){return typeof t=="function"}function ge(t){return L(t)?"array":typeof t}function q(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function $(t,e){return t!=null&&typeof t=="object"&&e in t}function he(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var ye=RegExp.prototype.test;function me(t,e){return ye.call(t,e)}var ve=/\S/;function be(t){return!me(ve,t)}var we={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Ae(t){return String(t).replace(/[&<>"'`=\/]/g,function(n){return we[n]})}var We=/\s*/,Ee=/\s+/,X=/\s*=/,Se=/\s*\}/,xe=/#|\^|\/|>|\{|&|=|!/;function Le(t,e){if(!t)return[];var n=!1,r=[],o=[],s=[],i=!1,u=!1,a="",c=0;function d(){if(i&&!u)for(;s.length;)delete o[s.pop()];else s=[];i=!1,u=!1}var h,m,f;function E(A){if(typeof A=="string"&&(A=A.split(Ee,2)),!L(A)||A.length!==2)throw new Error("Invalid tags: "+A);h=new RegExp(q(A[0])+"\\s*"),m=new RegExp("\\s*"+q(A[1])),f=new RegExp("\\s*"+q("}"+A[1]))}E(e||v.tags);for(var l=new M(t),p,g,b,C,T,S;!l.eos();){if(p=l.pos,b=l.scanUntil(h),b)for(var G=0,ne=b.length;G<ne;++G)C=b.charAt(G),be(C)?(s.push(o.length),a+=C):(u=!0,n=!0,a+=" "),o.push(["text",C,p,p+1]),p+=1,C===`
`&&(d(),a="",c=0,n=!1);if(!l.scan(h))break;if(i=!0,g=l.scan(xe)||"name",l.scan(We),g==="="?(b=l.scanUntil(X),l.scan(X),l.scanUntil(m)):g==="{"?(b=l.scanUntil(f),l.scan(Se),l.scanUntil(m),g="&"):b=l.scanUntil(m),!l.scan(m))throw new Error("Unclosed tag at "+l.pos);if(g==">"?T=[g,b,p,l.pos,a,c,n]:T=[g,b,p,l.pos],c++,o.push(T),g==="#"||g==="^")r.push(T);else if(g==="/"){if(S=r.pop(),!S)throw new Error('Unopened section "'+b+'" at '+p);if(S[1]!==b)throw new Error('Unclosed section "'+S[1]+'" at '+p)}else g==="name"||g==="{"||g==="&"?u=!0:g==="="&&E(b)}if(d(),S=r.pop(),S)throw new Error('Unclosed section "'+S[1]+'" at '+l.pos);return Pe(Ce(o))}function Ce(t){for(var e=[],n,r,o=0,s=t.length;o<s;++o)n=t[o],n&&(n[0]==="text"&&r&&r[0]==="text"?(r[1]+=n[1],r[3]=n[3]):(e.push(n),r=n));return e}function Pe(t){for(var e=[],n=e,r=[],o,s,i=0,u=t.length;i<u;++i)switch(o=t[i],o[0]){case"#":case"^":n.push(o),r.push(o),n=o[4]=[];break;case"/":s=r.pop(),s[5]=o[2],n=r.length>0?r[r.length-1][4]:e;break;default:n.push(o)}return e}function M(t){this.string=t,this.tail=t,this.pos=0}M.prototype.eos=function(){return this.tail===""};M.prototype.scan=function(e){var n=this.tail.match(e);if(!n||n.index!==0)return"";var r=n[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r};M.prototype.scanUntil=function(e){var n=this.tail.search(e),r;switch(n){case-1:r=this.tail,this.tail="";break;case 0:r="";break;default:r=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=r.length,r};function x(t,e){this.view=t,this.cache={".":this.view},this.parent=e}x.prototype.push=function(e){return new x(e,this)};x.prototype.lookup=function(e){var n=this.cache,r;if(n.hasOwnProperty(e))r=n[e];else{for(var o=this,s,i,u,a=!1;o;){if(e.indexOf(".")>0)for(s=o.view,i=e.split("."),u=0;s!=null&&u<i.length;)u===i.length-1&&(a=$(s,i[u])||he(s,i[u])),s=s[i[u++]];else s=o.view[e],a=$(o.view,e);if(a){r=s;break}o=o.parent}n[e]=r}return I(r)&&(r=r.call(this.view)),r};function y(){this.templateCache={_cache:{},set:function(e,n){this._cache[e]=n},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}y.prototype.clearCache=function(){typeof this.templateCache!="undefined"&&this.templateCache.clear()};y.prototype.parse=function(e,n){var r=this.templateCache,o=e+":"+(n||v.tags).join(":"),s=typeof r!="undefined",i=s?r.get(o):void 0;return i==null&&(i=Le(e,n),s&&r.set(o,i)),i};y.prototype.render=function(e,n,r,o){var s=this.getConfigTags(o),i=this.parse(e,s),u=n instanceof x?n:new x(n,void 0);return this.renderTokens(i,u,r,e,o)};y.prototype.renderTokens=function(e,n,r,o,s){for(var i="",u,a,c,d=0,h=e.length;d<h;++d)c=void 0,u=e[d],a=u[0],a==="#"?c=this.renderSection(u,n,r,o,s):a==="^"?c=this.renderInverted(u,n,r,o,s):a===">"?c=this.renderPartial(u,n,r,s):a==="&"?c=this.unescapedValue(u,n):a==="name"?c=this.escapedValue(u,n,s):a==="text"&&(c=this.rawValue(u)),c!==void 0&&(i+=c);return i};y.prototype.renderSection=function(e,n,r,o,s){var i=this,u="",a=n.lookup(e[1]);function c(m){return i.render(m,n,r,s)}if(!!a){if(L(a))for(var d=0,h=a.length;d<h;++d)u+=this.renderTokens(e[4],n.push(a[d]),r,o,s);else if(typeof a=="object"||typeof a=="string"||typeof a=="number")u+=this.renderTokens(e[4],n.push(a),r,o,s);else if(I(a)){if(typeof o!="string")throw new Error("Cannot use higher-order sections without the original template");a=a.call(n.view,o.slice(e[3],e[5]),c),a!=null&&(u+=a)}else u+=this.renderTokens(e[4],n,r,o,s);return u}};y.prototype.renderInverted=function(e,n,r,o,s){var i=n.lookup(e[1]);if(!i||L(i)&&i.length===0)return this.renderTokens(e[4],n,r,o,s)};y.prototype.indentPartial=function(e,n,r){for(var o=n.replace(/[^ \t]/g,""),s=e.split(`
`),i=0;i<s.length;i++)s[i].length&&(i>0||!r)&&(s[i]=o+s[i]);return s.join(`
`)};y.prototype.renderPartial=function(e,n,r,o){if(!!r){var s=this.getConfigTags(o),i=I(r)?r(e[1]):r[e[1]];if(i!=null){var u=e[6],a=e[5],c=e[4],d=i;a==0&&c&&(d=this.indentPartial(i,c,u));var h=this.parse(d,s);return this.renderTokens(h,n,r,d,o)}}};y.prototype.unescapedValue=function(e,n){var r=n.lookup(e[1]);if(r!=null)return r};y.prototype.escapedValue=function(e,n,r){var o=this.getConfigEscape(r)||v.escape,s=n.lookup(e[1]);if(s!=null)return typeof s=="number"&&o===v.escape?String(s):o(s)};y.prototype.rawValue=function(e){return e[1]};y.prototype.getConfigTags=function(e){return L(e)?e:e&&typeof e=="object"?e.tags:void 0};y.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!L(e))return e.escape};var v={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){B.templateCache=t},get templateCache(){return B.templateCache}},B=new y;v.clearCache=function(){return B.clearCache()};v.parse=function(e,n){return B.parse(e,n)};v.render=function(e,n,r,o){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+ge(e)+'" was given as the first argument for mustache#render(template, view, partials)');return B.render(e,n,r,o)};v.escape=Ae;v.Scanner=M;v.Context=x;v.Writer=y;class Be{constructor(e,n){this.template=e,this.state=n,this.ast=v.parse(e)}getValue(){return this.value===void 0&&(this.value=v.render(this.template,this.state)),this.value}onChange(e){const n=[];for(const r of this.getUsedVariables().values())n.push(this.state.onVariableChange(r).subscribe(()=>{const o=v.render(this.template,this.state);o!==this.value&&(this.value=o,e(this.value))}));return{unsubscribe:()=>{for(const r of n)r.unsubscribe()}}}isPureString(){return this.ast.length===0||this.ast.length===1&&this.ast[0][0]==="text"}getUsedVariables(){const e=new Set;return this.recursiveGetUsedVariables(this.ast,e),e}recursiveGetUsedVariables(e,n){for(const r of e){const o=r[0],s=r[1],i=r[4];["name","&","#","^"].includes(o)&&n.add(s),i!==void 0&&typeof i!="string"&&this.recursiveGetUsedVariables(i,n)}}}async function Me(){var t;const e=await R();for(const[n,r]of e.entries()){const o=(t=r.properties)!==null&&t!==void 0?t:[];for(const s of o){if(s.type==="int"||s.type==="bool"||s.type==="object"||typeof s.value!="string")continue;const i=new Be(s.value,WA.state);if(i.isPureString())continue;const u=i.getValue();Z(n,s.name,u),i.onChange(a=>{Z(n,s.name,a)})}}}function Z(t,e,n){WA.room.setProperty(t,e,n),e==="visible"&&(n?WA.room.showLayer(t):WA.room.hideLayer(t))}let U,D=0,j=0;function F(t){if(WA.state[t.name]){let e=t.properties.mustGetString("openLayer");for(const n of e.split(`
`))WA.room.showLayer(n);e=t.properties.mustGetString("closeLayer");for(const n of e.split(`
`))WA.room.hideLayer(n)}else{let e=t.properties.mustGetString("openLayer");for(const n of e.split(`
`))WA.room.hideLayer(n);e=t.properties.mustGetString("closeLayer");for(const n of e.split(`
`))WA.room.showLayer(n)}}function Te(t){const e=t.properties.getString("openSound"),n=t.properties.getNumber("soundRadius");let r=1;if(n){const o=te(t.properties.mustGetString("openLayer").split(`
`));if(o>n)return;r=1-o/n}e&&WA.sound.loadSound(e).play({volume:r})}function ke(t){const e=t.properties.getString("closeSound"),n=t.properties.getNumber("soundRadius");let r=1;if(n){const o=te(t.properties.mustGetString("closeLayer").split(`
`));if(o>n)return;r=1-o/n}e&&WA.sound.loadSound(e).play({volume:r})}function ee(t){return t.map(e=>U.get(e)).filter(e=>(e==null?void 0:e.type)==="tilelayer")}function te(t){const e=ee(t),n=z(e),r=((n.right-n.left)/2+n.left)*32,o=((n.bottom-n.top)/2+n.top)*32;return Math.sqrt(Math.pow(D-r,2)+Math.pow(j-o,2))}function Re(t){WA.state.onVariableChange(t.name).subscribe(()=>{WA.state[t.name]?Te(t):ke(t),F(t)}),F(t)}function Ge(t,e,n,r){const o=t.name;let s,i,u=!1;const a=n.getString("tag");let c=!0;a&&!WA.player.tags.includes(a)&&(c=!1);const d=!!a;function h(){var l;s&&s.remove(),s=WA.ui.displayActionMessage({message:(l=n.getString("closeTriggerMessage"))!==null&&l!==void 0?l:"Press SPACE to close the door",callback:()=>{WA.state[e.name]=!1,m()}})}function m(){var l;s&&s.remove(),s=WA.ui.displayActionMessage({message:(l=n.getString("openTriggerMessage"))!==null&&l!==void 0?l:"Press SPACE to open the door",callback:()=>{WA.state[e.name]=!0,h()}})}function f(l){const p=z(ee(e.properties.mustGetString("closeLayer").split(`
`)));i=WA.room.website.create({name:"doorKeypad"+l,url:r+"/keypad.html#"+encodeURIComponent(l),position:{x:p.right*32,y:p.top*32,width:32*3,height:32*4},allowApi:!0})}function E(){i&&(WA.room.website.delete(i.name),i=void 0)}WA.room.onEnterLayer(o).subscribe(()=>{if(u=!0,n.getBoolean("autoOpen")&&c){WA.state[e.name]=!0;return}if(!WA.state[e.name]&&(d&&!c||!d)&&(n.getString("code")||n.getString("codeVariable"))){f(o);return}!c||(WA.state[e.name]?h():m())}),WA.room.onLeaveLayer(o).subscribe(()=>{u=!1,n.getBoolean("autoClose")&&(WA.state[e.name]=!1),s&&s.remove(),E()}),WA.state.onVariableChange(e.name).subscribe(()=>{u&&(!n.getBoolean("autoClose")&&WA.state[e.name]===!0&&h(),i&&WA.state[e.name]===!0&&E(),!n.getBoolean("autoOpen")&&WA.state[e.name]===!1&&m())})}function Ve(t){const e=t.properties.mustGetString("bellSound"),n=t.properties.getNumber("soundRadius");let r=1;if(n){const o=Math.sqrt(Math.pow(t.x-D,2)+Math.pow(t.y-j,2));if(o>n)return;r=1-o/n}WA.sound.loadSound(e).play({volume:r})}function qe(t){WA.state[t.name]===void 0&&(WA.state[t.name]=0),WA.state.onVariableChange(t.name).subscribe(()=>{WA.state[t.name]&&Ve(t)})}function Ue(t,e,n){let r;const o=e.getString("bellPopup");WA.room.onEnterLayer(n).subscribe(()=>{var s;o?r=WA.ui.openPopup(o,"",[{label:(s=e.getString("bellButtonText"))!==null&&s!==void 0?s:"Ring",callback:()=>{WA.state[t]=WA.state[t]+1}}]):WA.state[t]=WA.state[t]+1}),WA.room.onLeaveLayer(n).subscribe(()=>{r&&(r.close(),r=void 0)})}async function Ie(t){t=t!=null?t:k;const e=await le();U=await R();for(const n of e.values())n.properties.get("door")&&Re(n),n.properties.get("bell")&&qe(n);for(const n of U.values()){const r=new P(n.properties),o=r.getString("doorVariable");if(o&&n.type==="tilelayer"){const i=e.get(o);if(i===void 0)throw new Error('Cannot find variable "'+o+'" referred in the "doorVariable" property of layer "'+n.name+'"');Ge(n,i,r,t)}const s=r.getString("bellVariable");s&&Ue(s,r,n.name)}WA.player.onPlayerMove(n=>{D=n.x,j=n.y})}function De(t,e){const n=t.getString("bindVariable");if(n){const r=t.get("enterValue"),o=t.get("leaveValue"),s=t.getString("triggerMessage"),i=t.getString("tag");je(n,e,r,o,s,i)}}function je(t,e,n,r,o,s){s&&!WA.player.tags.includes(s)||(n!==void 0&&WA.room.onEnterLayer(e).subscribe(()=>{o||(WA.state[t]=n)}),r!==void 0&&WA.room.onLeaveLayer(e).subscribe(()=>{WA.state[t]=r}))}async function Oe(){const t=await R();for(const e of t.values()){const n=new P(e.properties);De(n,e.name)}}let H;async function _e(t){const e=await WA.room.getTiledMap();t=t!=null?t:k,H=await R();const n=e.layers.find(r=>r.name==="configuration");if(n){const o=new P(n.properties).getString("tag");(!o||WA.player.tags.includes(o))&&WA.ui.registerMenuCommand("Configure the room",()=>{WA.nav.openCoWebSite(t+"/configuration.html",!0)});for(const s of H.values()){const i=new P(s.properties),u=i.getString("openConfig");u&&s.type==="tilelayer"&&Ne(u.split(","),s.name,i)}}}function Ne(t,e,n){let r;const o=n.getString("openConfigAdminTag");let s=!0;o&&!WA.player.tags.includes(o)&&(s=!1);function i(){var a;r&&r.remove(),r=WA.ui.displayActionMessage({message:(a=n.getString("openConfigTriggerMessage"))!==null&&a!==void 0?a:"Press SPACE or touch here to configure",callback:()=>Q(t)})}function u(){WA.nav.closeCoWebSite()}WA.room.onEnterLayer(e).subscribe(()=>{const a=n.getString("openConfigTrigger");s&&(a&&a==="onaction"?i():Q(t))}),WA.room.onLeaveLayer(e).subscribe(()=>{r&&r.remove(),u()})}const Ke=[{lowerBound:0,uppperBound:.5,config:{width:250,height:390,scale:1}},{lowerBound:.5,uppperBound:.8,config:{width:224,height:350,scale:.9}},{lowerBound:.8,uppperBound:1.25,config:{width:132,height:211,scale:.53}},{lowerBound:1.25,uppperBound:2.28,config:{width:64,height:99,scale:.25}},{lowerBound:1.25,config:{width:39,height:63,scale:.16}}],Qe=[{lowerBound:0,uppperBound:1,config:{width:427,height:270,scale:1}},{lowerBound:1,uppperBound:1.9,config:{width:300,height:188,scale:.7}},{lowerBound:1.9,uppperBound:3.5,config:{width:150,height:94,scale:.35}},{lowerBound:3.5,uppperBound:5,config:{width:93,height:58,scale:.21}},{lowerBound:4,config:{width:75,height:46,scale:.17}}];async function $e(){var t;const e=WA.player.state.tutorialDone,n=/Mobi|Android/i.test(navigator.userAgent),o=await((t=(await WA.room.getTiledMap()).properties)===null||t===void 0?void 0:t.find(i=>i.name==="tutorial")),s=o&&o.value;if(!e&&s){Xe(n);let i=await WA.player.getPosition(),u;const a=await WA.room.website.get("tutorial"),c=()=>{const E=i.x+a.x+a.width>u.x+u.width,l=i.x+a.x<u.x,p=i.y+a.y+a.height>u.y+u.height,g=i.y+a.y<u.y;E?a.x=-a.width-1.5*16:l&&(a.x=1.5*16),p?a.y=-a.height:g&&(a.y=16)},d=f=>{a.width=f.width,a.height=f.height,a.scale=f.scale},h=f=>{const l=(n?Ke:Qe).filter(p=>{if(p.lowerBound&&p.uppperBound)return p.lowerBound<f&&f<=p.uppperBound;if(p.lowerBound&&!p.uppperBound)return p.lowerBound<f;if(!p.lowerBound&&p.uppperBound)return f<=p.uppperBound;throw new Error(`Zoom level of: ${f} could not fit in any of the desktopConfig's ranges.`)});d(l[0].config)},m=()=>{if(u===void 0)return;const f=u.zoom;h(f),c()};WA.player.onPlayerMove(f=>{i=f,m()}),WA.camera.onCameraUpdate().subscribe(f=>{u=f,m()}),WA.player.state.tutorialDone=!0}}function Xe(t){let e={allow:"",name:"tutorial",url:k+"/tutorial.html",position:{height:224,width:407,x:16,y:-112},visible:!0,allowApi:!0,origin:"player",scale:.9};t&&(e=K(N({},e),{position:{x:32,y:-225,height:390,width:250},scale:1})),WA.room.website.create(e)}function Ze(){return WA.onInit().then(()=>{Ie().catch(t=>console.error(t)),Oe().catch(t=>console.error(t)),_e().catch(t=>console.error(t)),Me().catch(t=>console.error(t)),$e().catch(t=>console.error(t))}).catch(t=>console.error(t))}Ze();let w;WA.onInit().then(()=>{WA.controls.disablePlayerProximityMeeting(),WA.room.onEnterLayer("enigme1").subscribe(()=>{let t=`Un prisonnier se trouve face \xE0 trois pi\xE8ces et il est forc\xE9 d\u2019entrer dans l\u2019une des trois. 

Mais\u2026 il peut choisir la pi\xE8ce de son choix.
`;t+=`- La premi\xE8re pi\xE8ce br\xFBle (porte du haut).
`,t+=`- La deuxi\xE8me est \xE9quip\xE9e d\u2019explosifs qui exploseront d\xE8s qu\u2019il entrera. (porte du milieu)
`,t+=`- Dans la troisi\xE8me se trouvent deux lions qui n\u2019ont pas mang\xE9 depuis des ann\xE9es. (porte du bas) 

 Quelle pi\xE8ce le prisonnier doit-il choisir pour survivre ?`,w=WA.ui.openPopup("enigme1Popup",t,[])}),WA.room.onLeaveLayer("enigme1").subscribe(W),WA.room.onEnterLayer("enigme2").subscribe(()=>{let t=`Un ours marche 10 km vers le Sud, 10 vers l'Est et 10 vers le Nord, apr\xE8s tout ce chemin il revient \xE0 l'endroit duquel il est parti. De quelle couleur est l'ours ?

`;t+=`- blanc
`,t+=`- brun;
`,t+="- noir",w=WA.ui.openPopup("enigme1Popup",t,[])}),WA.room.onLeaveLayer("enigme2").subscribe(W),WA.room.onEnterLayer("enigme3").subscribe(()=>{let t=`Si je suis muet, aveugle et sourd, combien de sens me reste-t-il ?

`;t+=`- 2 (porte de gauche)
`,t+=`- 3 (porte du centre)
`,t+=`- 5 (porte de droite)
`,w=WA.ui.openPopup("enigme1Popup",t,[])}),WA.room.onLeaveLayer("enigme3").subscribe(W),WA.room.onEnterLayer("enigme4").subscribe(()=>{let t=`Soit la suite suivante :
`;t+=`8 - 61 - 24 - 32 - X - 12

`,t+=`23 ou 13 ou 44

`,w=WA.ui.openPopup("enigme2Popup",t,[])}),WA.room.onLeaveLayer("enigme4").subscribe(W),WA.room.onEnterLayer("enigme5").subscribe(()=>{let t=`Un immeuble comporte trois \xE9tages. Plus l'\xE9tage est \xE9lev\xE9, plus il y a d'occupants. A quel \xE9tage l\u2019ascenseur s\u2019arr\xEAtera le plus souvent ?

`;t+=`RDC
`,t+=`1
`,t+=`2
`,w=WA.ui.openPopup("enigme3Popup",t,[])}),WA.room.onLeaveLayer("enigme5").subscribe(W),WA.room.onEnterLayer("enigme6").subscribe(()=>{let t=`Soit la suite logique suivante : 4, 6, 15, 105, .... Quel sera le nombre suivant ?

`;t+=`5460
`,t+=`201
`,t+=`3124
`,w=WA.ui.openPopup("enigme3Popup",t,[])}),WA.room.onLeaveLayer("enigme6").subscribe(W),WA.room.onEnterLayer("enigme7").subscribe(()=>{let t=`Quelle est la bonne r\xE9ponse \xE0 cette question, dans la liste ci-dessous ?

`;t+=`1. Tout ce qui suit.
`,t+=`2. Aucune des r\xE9ponses ci-dessous.
`,t+=`3. Toutes les r\xE9ponses ci-dessus.
`,t+=`4. L\u2019une des r\xE9ponses ci-dessus.
`,t+=`5. Aucune des r\xE9ponses ci-dessus.
`,t+=`6. Aucune des r\xE9ponses ci-dessus.
`,w=WA.ui.openPopup("enigme2Popup",t,[])}),WA.room.onLeaveLayer("enigme7").subscribe(W),WA.room.onEnterLayer("enigme8").subscribe(()=>{let t=`Vous connaissez Squid Game ?
 Bon courage.
`;w=WA.ui.openPopup("enigme2Popup",t,[])}),WA.room.onLeaveLayer("enigme8").subscribe(W),WA.room.onEnterLayer("lastEnigmeAnnonce").subscribe(()=>{let t="Que vaut la somme des positions de toutes les portes valides ?";w=WA.ui.openPopup("enigme2Popup",t,[])}),WA.room.onLeaveLayer("lastEnigmeAnnonce").subscribe(()=>{W()})}).catch(t=>console.error(t));function W(){w!==void 0&&(w.close(),w=void 0)}
